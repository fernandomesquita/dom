{
  "query": "SET FOREIGN_KEY_CHECKS = 0;\n\nCREATE TABLE IF NOT EXISTS `questions` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `uniqueCode` VARCHAR(20) NOT NULL UNIQUE,\n  `disciplinaId` INT NULL,\n  `assuntoId` INT NULL,\n  `topicoId` INT NULL,\n  `statementText` TEXT NOT NULL,\n  `statementImage` VARCHAR(500) NULL,\n  `questionType` ENUM('multiple_choice', 'true_false') NOT NULL,\n  `optionA` TEXT NULL,\n  `optionB` TEXT NULL,\n  `optionC` TEXT NULL,\n  `optionD` TEXT NULL,\n  `optionE` TEXT NULL,\n  `correctOption` ENUM('A', 'B', 'C', 'D', 'E') NULL,\n  `trueFalseAnswer` BOOLEAN NULL,\n  `explanationText` TEXT NULL,\n  `explanationImage` VARCHAR(500) NULL,\n  `examBoard` VARCHAR(100) NULL,\n  `examYear` INT NULL,\n  `examInstitution` VARCHAR(255) NULL,\n  `difficulty` ENUM('easy', 'medium', 'hard') NULL,\n  `isOutdated` BOOLEAN DEFAULT FALSE,\n  `isAnnulled` BOOLEAN DEFAULT FALSE,\n  `flagReason` TEXT NULL,\n  `isActive` BOOLEAN NOT NULL DEFAULT TRUE,\n  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `uniqueCodeIdx` (`uniqueCode`),\n  INDEX `disciplinaIdx` (`disciplinaId`),\n  INDEX `assuntoIdx` (`assuntoId`),\n  INDEX `topicoIdx` (`topicoId`),\n  INDEX `typeIdx` (`questionType`),\n  INDEX `activeIdx` (`isActive`),\n  INDEX `disciplinaAssuntoIdx` (`disciplinaId`, `assuntoId`),\n  INDEX `disciplinaDifficultyIdx` (`disciplinaId`, `difficulty`),\n  INDEX `examBoardYearIdx` (`examBoard`, `examYear`),\n  FOREIGN KEY (`disciplinaId`) REFERENCES `disciplinas`(`id`) ON DELETE SET NULL,\n  FOREIGN KEY (`assuntoId`) REFERENCES `assuntos`(`id`) ON DELETE SET NULL,\n  FOREIGN KEY (`topicoId`) REFERENCES `topicos`(`id`) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3FZ1nxfVKsSpRCQ.c519e6f3483f --database E9go4Z3vKfQ64CyBjNz69u --execute SET FOREIGN_KEY_CHECKS = 0;\n\nCREATE TABLE IF NOT EXISTS `questions` (\n  `id` INT AUTO_INCREMENT PRIMARY KEY,\n  `uniqueCode` VARCHAR(20) NOT NULL UNIQUE,\n  `disciplinaId` INT NULL,\n  `assuntoId` INT NULL,\n  `topicoId` INT NULL,\n  `statementText` TEXT NOT NULL,\n  `statementImage` VARCHAR(500) NULL,\n  `questionType` ENUM('multiple_choice', 'true_false') NOT NULL,\n  `optionA` TEXT NULL,\n  `optionB` TEXT NULL,\n  `optionC` TEXT NULL,\n  `optionD` TEXT NULL,\n  `optionE` TEXT NULL,\n  `correctOption` ENUM('A', 'B', 'C', 'D', 'E') NULL,\n  `trueFalseAnswer` BOOLEAN NULL,\n  `explanationText` TEXT NULL,\n  `explanationImage` VARCHAR(500) NULL,\n  `examBoard` VARCHAR(100) NULL,\n  `examYear` INT NULL,\n  `examInstitution` VARCHAR(255) NULL,\n  `difficulty` ENUM('easy', 'medium', 'hard') NULL,\n  `isOutdated` BOOLEAN DEFAULT FALSE,\n  `isAnnulled` BOOLEAN DEFAULT FALSE,\n  `flagReason` TEXT NULL,\n  `isActive` BOOLEAN NOT NULL DEFAULT TRUE,\n  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX `uniqueCodeIdx` (`uniqueCode`),\n  INDEX `disciplinaIdx` (`disciplinaId`),\n  INDEX `assuntoIdx` (`assuntoId`),\n  INDEX `topicoIdx` (`topicoId`),\n  INDEX `typeIdx` (`questionType`),\n  INDEX `activeIdx` (`isActive`),\n  INDEX `disciplinaAssuntoIdx` (`disciplinaId`, `assuntoId`),\n  INDEX `disciplinaDifficultyIdx` (`disciplinaId`, `difficulty`),\n  INDEX `examBoardYearIdx` (`examBoard`, `examYear`),\n  FOREIGN KEY (`disciplinaId`) REFERENCES `disciplinas`(`id`) ON DELETE SET NULL,\n  FOREIGN KEY (`assuntoId`) REFERENCES `assuntos`(`id`) ON DELETE SET NULL,\n  FOREIGN KEY (`topicoId`) REFERENCES `topicos`(`id`) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;",
  "returncode": 1,
  "logs": [
    "ERROR 3780 (HY000) at line 3: Referencing column 'disciplinaId' and referenced column 'id' in foreign key constraint 'fk_1' are incompatible."
  ]
}