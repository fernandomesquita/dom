{
  "query": "-- PRIORIDADE MÉDIA: Índices com impacto 10-30x\n\n-- 11. Metas: busca simples por usuário (stats gerais)\nCREATE INDEX IF NOT EXISTS idx_metas_user_id \nON metas(user_id);\n\n-- 12. Questões Resolvidas: busca por usuário + correta (taxa de acerto)\nCREATE INDEX IF NOT EXISTS idx_questoes_resolvidas_user_correta \nON questoes_resolvidas(user_id, correta);\n\n-- 13. Streak Protections: busca por usuário\nCREATE INDEX IF NOT EXISTS idx_streak_protections_user_id \nON streak_protections(user_id);\n\n-- 14. Gamification XP: busca por usuário\nCREATE INDEX IF NOT EXISTS idx_gamification_xp_user_id \nON gamification_xp(user_id);\n\n-- 15. Gamification Achievements: busca por usuário + conquista\nCREATE INDEX IF NOT EXISTS idx_gamification_achievements_user_achievement \nON gamification_achievements(user_id, achievement_id);\n\n-- 16. Widget Configs: ordenação por posição\nCREATE INDEX IF NOT EXISTS idx_widget_configs_user_position \nON widget_configs(user_id, position);\n\n-- 17. Telemetry Events: análise por widget + categoria\nCREATE INDEX IF NOT EXISTS idx_telemetry_events_widget_category \nON telemetry_events(widget, category, timestamp DESC);\n\n-- 18. Forum Tópicos: busca por status + data\nCREATE INDEX IF NOT EXISTS idx_forum_topicos_ativo_updated \nON forum_topicos(ativo, updated_at DESC);\n\n-- 19. Dashboard Customizations: busca por usuário\nCREATE INDEX IF NOT EXISTS idx_dashboard_customizations_user_id \nON dashboard_customizations(user_id);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3FZ1nxfVKsSpRCQ.c519e6f3483f --database E9go4Z3vKfQ64CyBjNz69u --execute -- PRIORIDADE MÉDIA: Índices com impacto 10-30x\n\n-- 11. Metas: busca simples por usuário (stats gerais)\nCREATE INDEX IF NOT EXISTS idx_metas_user_id \nON metas(user_id);\n\n-- 12. Questões Resolvidas: busca por usuário + correta (taxa de acerto)\nCREATE INDEX IF NOT EXISTS idx_questoes_resolvidas_user_correta \nON questoes_resolvidas(user_id, correta);\n\n-- 13. Streak Protections: busca por usuário\nCREATE INDEX IF NOT EXISTS idx_streak_protections_user_id \nON streak_protections(user_id);\n\n-- 14. Gamification XP: busca por usuário\nCREATE INDEX IF NOT EXISTS idx_gamification_xp_user_id \nON gamification_xp(user_id);\n\n-- 15. Gamification Achievements: busca por usuário + conquista\nCREATE INDEX IF NOT EXISTS idx_gamification_achievements_user_achievement \nON gamification_achievements(user_id, achievement_id);\n\n-- 16. Widget Configs: ordenação por posição\nCREATE INDEX IF NOT EXISTS idx_widget_configs_user_position \nON widget_configs(user_id, position);\n\n-- 17. Telemetry Events: análise por widget + categoria\nCREATE INDEX IF NOT EXISTS idx_telemetry_events_widget_category \nON telemetry_events(widget, category, timestamp DESC);\n\n-- 18. Forum Tópicos: busca por status + data\nCREATE INDEX IF NOT EXISTS idx_forum_topicos_ativo_updated \nON forum_topicos(ativo, updated_at DESC);\n\n-- 19. Dashboard Customizations: busca por usuário\nCREATE INDEX IF NOT EXISTS idx_dashboard_customizations_user_id \nON dashboard_customizations(user_id);",
  "returncode": 1,
  "logs": [
    "ERROR 1072 (42000) at line 32: column does not exist: ativo"
  ]
}